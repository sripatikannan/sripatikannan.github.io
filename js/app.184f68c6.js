(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="sripatikannan.github.io/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0019":function(t,e,n){},"0328":function(t,e,n){"use strict";var r=n("3fc8"),i=n.n(r);i.a},"06b8":function(t,e,n){},1040:function(t,e,n){"use strict";var r=n("c035"),i=n.n(r);i.a},1164:function(t,e,n){"use strict";var r=n("5806"),i=n.n(r);i.a},"26d2":function(t,e,n){},2937:function(t,e,n){},"29fd":function(t,e,n){},"31f4":function(t,e,n){"use strict";var r=n("2937"),i=n.n(r);i.a},"39a5":function(t,e,n){},"3e1b":function(t,e,n){"use strict";var r=n("39a5"),i=n.n(r);i.a},"3fab":function(t,e,n){},"3fc8":function(t,e,n){},4253:function(t,e,n){},4418:function(t,e,n){"use strict";var r=n("26d2"),i=n.n(r);i.a},"49f8":function(t,e,n){var r={"./de.json":"6ce2","./en.json":"edd4"};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id="49f8"},"557b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},a=[],s=n("2877"),o={},c=Object(s["a"])(o,i,a,!1,null,null,null),u=c.exports,l=n("9483");Object(l["a"])("".concat("sripatikannan.github.io/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=n("dc21"),h=n("e594"),p=(n("557b"),n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("1276"),n("159b"),n("ddb0"),n("a925"));function f(){var t=n("49f8"),e={};return t.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var i=r[1];e[i]=t(n)}})),e}r["a"].use(p["a"]);var v,y=new p["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"sripatikannan.github.io/"}).VUE_APP_I18N_LOCALE||navigator.language.split("-")[0]||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"sripatikannan.github.io/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:f()}),g=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"welcome"},[n("div",{staticClass:"container"},[t._m(0),n("h1",[t._v("Black Queen")]),n("router-link",{staticClass:"button start-game",attrs:{to:"/play",tag:"button"}},[t._v(" "+t._s(t.$t("start-game"))+" ")]),t.showTutorial?n("router-link",{staticClass:"button button-secondary tutorial",attrs:{to:"/learn",tag:"button"}},[t._v(" "+t._s(t.$t("how-to-play"))+" ")]):n("a",{staticClass:"button button-secondary tutorial-link",attrs:{href:t.$t("tutorial-link"),target:"_blank"}},[t._v(" "+t._s(t.$t("how-to-play"))+" ")])],1)])},m=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("img",{attrs:{src:n("9050")}})])}],k=(n("96cf"),n("1da1")),w=(n("b0c0"),n("bee2")),_=n("d4ec"),x={test:{baseUrl:"http://localhost:8080",backend_base_url:"http://localhost:5000",debug:!0,testing:!0},development:{baseUrl:"http://localhost:8080",backend_base_url:"http://localhost:5000",debug:!0,testing:!1},production:{baseUrl:"http://doppelkopf.ham.codes",backend_base_url:"https://doppelkopf.ham.codes",debug:!1,testing:!1}},C=x["production"],O=function(){function t(){Object(_["a"])(this,t),this.baseUrl=C.backend_base_url}return Object(w["a"])(t,[{key:"get",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!C.testing){t.next=2;break}return t.abrupt("return",{ok:!1});case 2:return t.next=4,fetch(this.baseUrl+e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"post",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!C.testing){t.next=2;break}return t.abrupt("return",{ok:!1});case 2:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},t.next=5,fetch(this.baseUrl+e,r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),j=new O,P=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(_["a"])(this,t),this.name=e,this.enabled=n},T={show_tutorial_link:new P("Show link to tutorial",C.debug)},S=function(){function t(){Object(_["a"])(this,t),this.features=void 0}return Object(w["a"])(t,[{key:"fetch",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.features){t.next=2;break}return t.abrupt("return",this.features);case 2:return t.prev=2,t.next=5,j.get("/api/features");case 5:return e=t.sent,t.next=8,e.json();case 8:return this.features=t.sent.features,t.abrupt("return",this.features);case 12:return t.prev=12,t.t0=t["catch"](2),t.abrupt("return",T);case 15:case"end":return t.stop()}}),t,this,[[2,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetch();case 2:if(n=t.sent,r=n[e],r){t.next=6;break}throw Error('Cannot find feature with name "'.concat(e,'"'));case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),R=new S,$={name:"Home",data:function(){return{showTutorial:!1}},created:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.get("show_tutorial_link");case 2:t.showTutorial=e.sent.enabled;case 3:case"end":return e.stop()}}),e)})))()}},E=$,M=(n("bb76"),Object(s["a"])(E,b,m,!1,null,"5d937e6a",null)),N=M.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"game"}},[n("Notifications"),n("Table",{attrs:{game:t.game}}),n("OptionsMenu")],1)},L=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-container"},[n("div",{staticClass:"notifications"},[n("transition-group",{attrs:{name:"message"}},t._l(t.notifications,(function(e){return n("div",{key:e.id,staticClass:"message"},[t._v(" "+t._s(t.$t(e.text))+" ")])})),0)],1),n("div",{staticClass:"flashMessages"},[t.flashMessages[0]?n("FlashMessage",{attrs:{message:t.flashMessages[0].text,icon:t.flashMessages[0].icon}}):t._e()],1)])},I=[],H=n("7e9e"),D=function(){function t(){if(Object(_["a"])(this,t),v)return v;this.notifications=[],this.flashMessages=[],v=this}return Object(w["a"])(t,[{key:"info",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.notifications.push({id:Object(H["a"])("message_"),text:e}),t.next=3,this.wait(4e3);case 3:this.notifications.pop();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"flash",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.flashMessages.push({id:Object(H["a"])("flash_"),text:e}),t.next=3,this.wait(4e3);case 3:this.flashMessages.pop();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"wait",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}}]),t}(),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flashMessage"},[t.icon?n("div",{staticClass:"icon blink"},[t._v(t._s(t.icon))]):t._e(),n("h1",{staticClass:"message blink"},[t._v(t._s(t.message))])])},K=[],B={name:"FlashMessage",props:{message:{type:String,required:!0},icon:{type:String,required:!1,default:null}}},U=B,z=(n("8e78"),Object(s["a"])(U,A,K,!1,null,"5d423b6a",null)),G=z.exports,V=new D,J={name:"Notifications",components:{FlashMessage:G},data:function(){return{notifications:V.notifications,flashMessages:V.flashMessages}}},W=J,Q=(n("1040"),Object(s["a"])(W,F,I,!1,null,"a0a0b4e6",null)),Y=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("Player",{staticClass:"left",attrs:{player:t.game.players[1]}}),n("Player",{staticClass:"top",attrs:{player:t.game.players[2]}}),n("div",{staticClass:"center"},[n("Trick",{attrs:{"current-trick":t.game.currentTrick}})],1),n("Controls",{attrs:{game:t.game},on:{nextTrick:t.finishTrick,nextMove:t.nextMove,finishRound:t.finishRound}}),n("Player",{staticClass:"right",attrs:{player:t.game.players[3]}}),n("Player",{staticClass:"bottom",attrs:{player:t.game.players[0]}}),t.game.currentRound.isFinished()?n("Scorecard",{attrs:{scorecard:t.game.scorecard,players:t.game.players,"current-score":t.game.currentRound.score},on:{nextRound:t.nextRound}}):t._e()],1)},X=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("div",{staticClass:"info"},[n("div",{staticClass:"name title-font"},[t._v(t._s(t.player.name))]),t.player.isHuman?n("div",{staticClass:"party"},[t._v(" "+t._s(t.player.hand.isRe()?"bid_win":"bid_lose")+" ")]):t._e()]),n("div",{staticClass:"container"},[n("Hand",{attrs:{hand:t.player.hand,"is-covered":t.isCovered,"is-selectable":t.isHandSelectable,position:t.player.tablePosition,"playable-cards":t.playable()},on:{play:t.play}}),n("TrickStack",{attrs:{"trick-stack":t.player.trickStack}})],1)])},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hand"},[n("div",{staticClass:"cards",class:t.position},[n("transition-group",{attrs:{name:"card",tag:"span"}},t._l(t.hand.cards,(function(e){return n("Card",{key:e.cardId,attrs:{card:e,"is-selected":t.isSelected(e),"is-covered":t.isCovered,"is-highlighted":t.highlight(e),position:t.position},nativeOn:{click:function(n){return t.select(e)}}})})),1)],1)])},rt=[],it=(n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-inner",class:t.cardClasses},[t.isCovered?[n("div",{staticClass:"background"})]:[n("span",{staticClass:"suitTop",class:t.colorClasses},[t._v(t._s(t.card.suit))]),n("span",{staticClass:"rank"},[t._v(t._s(t.card.rank))]),n("span",{staticClass:"suitBottom",class:t.colorClasses},[t._v(t._s(t.card.suit))])]],2),t.playerName?n("div",{staticClass:"playerName"},[t._v(t._s(t.playerName))]):t._e()])}),at=[],st=(n("99af"),n("9429")),ot=n("1c8f"),ct={clubs:"♣",diamonds:"♦",hearts:"♥",spades:"♠"},ut={ace:"A",king:"K",queen:"Q",jack:"J",ten:"10",nine:"9",eight:"8",seven:"7",six:"6",five:"5",four:"4",three:"3",two:"2"},lt={A:15,10:10,K:10,Q:10,J:10,5:5,9:0,8:0,7:0,6:0,4:0,3:0,2:0},dt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct[0],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(H["a"])("card_");Object(_["a"])(this,t),this.rank=e,this.suit=n,this.id=r}return Object(w["a"])(t,[{key:"of",value:function(e){return new t(this.rank,e)}},{key:"first",value:function(){return new t(this.rank,this.suit,0)}},{key:"second",value:function(){return new t(this.rank,this.suit,1)}},{key:"isTrump",value:function(){return Object(st["a"])(jt,{rank:this.rank,suit:this.suit})}},{key:"whyTrump",value:function(){return this.rank===ut.queen?"queens are always trump":this.rank===ut.jack?"jacks are always trump":this.suit===ct.diamonds?"diamonds are always trump":this.rank===ut.ten&&this.suit===ct.hearts?"the ten of hearts is always trump":""}},{key:"compareTo",value:function(t){var e=this.isTrump(),n=t.isTrump();return e&&!n?-1:!e&&n?1:e&&n?Object(ot["a"])(jt,{rank:this.rank,suit:this.suit})-Object(ot["a"])(jt,{rank:t.rank,suit:t.suit}):e||n||this.suit!==t.suit?0:Object(ot["a"])(Pt,{rank:this.rank,suit:this.suit})-Object(ot["a"])(Pt,{rank:t.rank,suit:t.suit})}},{key:"value",get:function(){return lt[this.rank]}},{key:"cardId",get:function(){return"".concat(this.rank,"-").concat(this.suit,"-").concat(this.id)}}]),t}();function ht(t,e){return Object(ot["a"])(Pt,e)-Object(ot["a"])(Pt,t)}var pt=new dt(ut.ace,ct.clubs),ft=new dt(ut.ten,ct.clubs),vt=new dt(ut.king,ct.clubs),yt=new dt(ut.queen,ct.clubs),gt=new dt(ut.jack,ct.clubs),bt=new dt(ut.five,ct.clubs),mt=new dt(ut.nine,ct.clubs),kt=new dt(ut.eight,ct.clubs),wt=new dt(ut.seven,ct.clubs),_t=new dt(ut.six,ct.clubs),xt=new dt(ut.four,ct.clubs),Ct=new dt(ut.three,ct.clubs),Ot=new dt(ut.two,ct.clubs),jt=[pt.of(ct.spades),vt.of(ct.spades),yt.of(ct.spades),gt.of(ct.spades),ft.of(ct.spades),mt.of(ct.spades),kt.of(ct.spades),wt.of(ct.spades),_t.of(ct.spades),bt.of(ct.spades),xt.of(ct.spades),Ct.of(ct.spades),Ot.of(ct.spades)],Pt=[new dt(ut.ace,ct.spades,0),new dt(ut.king,ct.spades,0),new dt(ut.queen,ct.spades,0),new dt(ut.jack,ct.spades,0),new dt(ut.ten,ct.spades,0),new dt(ut.nine,ct.spades,0),new dt(ut.eight,ct.spades,0),new dt(ut.seven,ct.spades,0),new dt(ut.six,ct.spades,0),new dt(ut.five,ct.spades,0),new dt(ut.four,ct.spades,0),new dt(ut.three,ct.spades,0),new dt(ut.two,ct.spades,0),new dt(ut.ace,ct.hearts,0),new dt(ut.king,ct.hearts,0),new dt(ut.queen,ct.hearts,0),new dt(ut.jack,ct.hearts,0),new dt(ut.ten,ct.hearts,0),new dt(ut.nine,ct.hearts,0),new dt(ut.eight,ct.hearts,0),new dt(ut.seven,ct.hearts,0),new dt(ut.six,ct.hearts,0),new dt(ut.five,ct.hearts,0),new dt(ut.four,ct.hearts,0),new dt(ut.three,ct.hearts,0),new dt(ut.two,ct.hearts,0),new dt(ut.ace,ct.clubs,0),new dt(ut.king,ct.clubs,0),new dt(ut.queen,ct.clubs,0),new dt(ut.jack,ct.clubs,0),new dt(ut.ten,ct.clubs,0),new dt(ut.nine,ct.clubs,0),new dt(ut.eight,ct.clubs,0),new dt(ut.seven,ct.clubs,0),new dt(ut.six,ct.clubs,0),new dt(ut.five,ct.clubs,0),new dt(ut.four,ct.clubs,0),new dt(ut.three,ct.clubs,0),new dt(ut.two,ct.clubs,0),new dt(ut.ace,ct.diamonds,0),new dt(ut.king,ct.diamonds,0),new dt(ut.queen,ct.diamonds,0),new dt(ut.jack,ct.diamonds,0),new dt(ut.ten,ct.diamonds,0),new dt(ut.nine,ct.diamonds,0),new dt(ut.eight,ct.diamonds,0),new dt(ut.seven,ct.diamonds,0),new dt(ut.six,ct.diamonds,0),new dt(ut.five,ct.diamonds,0),new dt(ut.four,ct.diamonds,0),new dt(ut.three,ct.diamonds,0),new dt(ut.two,ct.diamonds,0)],Tt={name:"Card",props:{card:{type:Object,required:!0},isSelected:{type:Boolean,required:!1},isCovered:{type:Boolean,required:!1},isHighlighted:{type:Boolean,required:!1},position:{type:String,required:!1,default:"not-set"},playerName:{type:String,required:!1,default:null}},computed:{colorClasses:function(){return{red:this.card.suit===ct.hearts||this.card.suit===ct.diamonds,black:this.card.suit===ct.clubs||this.card.suit===ct.spades}},cardClasses:function(){return{selected:this.isSelected,highlighted:this.isHighlighted,left:"left"===this.position,right:"right"===this.position,top:"top"===this.position,bottom:"bottom"===this.position,covered:this.isCovered}}}},St=Tt,Rt=(n("f5e5"),Object(s["a"])(St,it,at,!1,null,"61006955",null)),$t=Rt.exports,Et={name:"Hand",components:{Card:$t},props:{hand:{type:Object,required:!0},isCovered:{type:Boolean,required:!1},position:{type:String,required:!1,default:"not-set"},playableCards:{type:Array,required:!0},isSelectable:{type:Boolean,required:!1,default:!1}},data:function(){return{selectedCard:{}}},methods:{isSelected:function(t){return t===this.selectedCard},select:function(t){this.isSelectable&&(this.selectedCard===t?this.$emit("play",t):this.selectedCard=t)},highlight:function(t){return this.playableCards.includes(t)}}},Mt=Et,Nt=(n("90ea"),Object(s["a"])(Mt,nt,rt,!1,null,"4a42fe8d",null)),qt=Nt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"trickStack"},[t.isHidden?n("div",{staticClass:"placeholder"},[n("Card",{attrs:{"is-covered":!0,card:{}}})],1):t._e(),n("transition",{attrs:{name:"stack"}},[t.isHidden?t._e():n("div",{staticClass:"cards"},[n("Card",{attrs:{"is-covered":!0,card:{}}})],1)]),n("div",{staticClass:"trickCount"},[t._v(t._s(t.$tc("trick",t.trickStack.tricks.length)))])],1)},Ft=[],It={name:"TrickStack",components:{Card:$t},props:{trickStack:{type:Object,required:!0}},computed:{isHidden:function(){return this.trickStack.tricks.length<1}}},Ht=It,Dt=(n("e3ba"),Object(s["a"])(Ht,Lt,Ft,!1,null,"0f8c443e",null)),At=Dt.exports;n("4de4");function Kt(t,e){if(!e)return t;if(!e.isTrump()){var n=t.filter((function(t){return t.suit===e.suit})).filter((function(t){return!t.isTrump()}));return n.length>0?n:t}var r=t.filter((function(t){return t.isTrump()}));return r.length>0?r:t}var Bt={name:"Player",components:{Hand:qt,TrickStack:At},props:{player:{type:Object,required:!0}},data:function(){return{isCovered:!this.player.isHuman,isHandSelectable:this.player.isHuman}},methods:{play:function(t){this.player.play(t)},playable:function(){return Kt(this.player.hand.cards,this.player.game.currentTrick.baseCard())}}},Ut=Bt,zt=(n("1164"),Object(s["a"])(Ut,tt,et,!1,null,"015aa7ac",null)),Gt=zt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"trick"},[n("div",{staticClass:"cards"},[n("transition-group",{attrs:{name:"card",tag:"span"}},t._l(t.cards,(function(t){return n("Card",{key:t.card.cardId,attrs:{card:t.card,"player-name":t.player.name}})})),1)],1),t.winner?n("div",{staticClass:"winner"},[t._v(" "+t._s(t.$t("trick_goes_to"))+" "+t._s(t.winner.name)+" ")]):t._e()])},Jt=[],Wt={name:"Trick",components:{Card:$t},props:{currentTrick:{type:Object,default:null}},computed:{cards:function(){return this.currentTrick.cards()},winner:function(){return this.currentTrick.winner()}}},Qt=Wt,Yt=(n("31f4"),Object(s["a"])(Qt,Vt,Jt,!1,null,"91f960a4",null)),Zt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[t.game.currentTrick.isFinished()&&!t.game.currentRound.noMoreCardsLeft()?n("button",{staticClass:"button next",on:{click:function(e){return t.triggerNextTrick()}}},[t._v(" "+t._s(t.$t("next-trick"))+" ")]):t._e(),t.game.currentRound.noMoreCardsLeft()&&!t.game.currentRound.isFinished()?n("button",{staticClass:"button finish",on:{click:function(e){return t.triggerFinish()}}},[t._v(" "+t._s(t.$t("finish-round"))+" ")]):t._e()])},te=[],ee={name:"Controls",props:{game:{type:Object,required:!0}},methods:{triggerNextTrick:function(){this.$emit("nextTrick")},triggerFinish:function(){this.$emit("finishRound")}}},ne=ee,re=(n("3e1b"),Object(s["a"])(ne,Xt,te,!1,null,"3a16fa3e",null)),ie=re.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scorecard"},[n("h1",{staticClass:"message"},[t._v(t._s(t.$t(t.message)))]),n("div",{staticClass:"parties"},[n("div",{staticClass:"party-wrapper"},["bid_win"===t.currentScore.winningParty()?n("div",{staticClass:"winner-balloon"},[t._v(" 🎈 "+t._s(t.$t("winner"))+" ")]):t._e(),n("div",{staticClass:"party-bubble"},[n("div",{staticClass:"party re"},[t._v(" bid_win ")]),n("div",{staticClass:"names"},[t._v(" "+t._s(t.partyMembers("bid_win"))+" ")])])]),n("div",{staticClass:"party-wrapper"},["bid_lose"===t.currentScore.winningParty()?n("div",{staticClass:"winner-balloon"},[t._v(" 🎈 "+t._s(t.$t("winner"))+" ")]):t._e(),n("div",{staticClass:"party-bubble"},[n("div",{staticClass:"party kontra"},[t._v(" bid_lose ")]),n("div",{staticClass:"names"},[t._v(" "+t._s(t.partyMembers("bid_lose"))+" ")])])])]),n("div",{staticClass:"meter"},[n("PointMeter",{attrs:{"re-points":t.currentScore.rePoints,"kontra-points":t.currentScore.kontraPoints}})],1),n("div",{staticClass:"row"},[n("div",{staticClass:"column"},[n("h2",[t._v(t._s(t.$t("results")))]),n("div",{staticClass:"row"},[n("table",[t._m(0),n("tr",[n("td",{staticClass:"extras re"},[n("ul",t._l(t.currentScore.listExtras("bid_lose"),(function(e){return n("li",{key:e},[n("span",{attrs:{title:t.$t(e+"_description")}},[n("Icon",{attrs:{name:"info"}})],1),t._v(" "+t._s(t.$t(e))+" ")])})),0)]),n("td",{staticClass:"extras kontra"},[n("ul",t._l(t.currentScore.listExtras("bid_win"),(function(e){return n("li",{key:e},[n("span",{attrs:{title:t.$t(e+"_description")}},[n("Icon",{attrs:{name:"info"}})],1),t._v(" "+t._s(t.$t(e))+" ")])})),0)])]),n("tr",[n("td",{staticClass:"sum re"},["bid_lose"===t.currentScore.winningParty()?n("span",[t._v(t._s(t.currentScore.points())+" "+t._s(t.$t("points")))]):t._e()]),n("td",{staticClass:"sum kontra"},["bid_win"===t.currentScore.winningParty()?n("span",[t._v(" "+t._s(t.currentScore.points())+" "+t._s(t.$t("points"))+" ")]):t._e()])])])])]),n("div",{staticClass:"column"},[n("h2",[t._v(t._s(t.$t("points")))]),n("table",[n("tr",[t._l(t.players,(function(e){return n("th",{key:e.id,staticClass:"player right-aligned"},[t._v(" "+t._s(e.name)+" ")])})),n("th",{staticClass:"right-aligned"},[t._v(t._s(t.$t("points")))])],2),t._l(t.scorecard.scoreLines,(function(e,r){return n("tr",{key:e.id,staticClass:"scoreLine",class:{bold:t.isLastLine(r)}},[t._l(t.players,(function(r){return n("td",{key:r.id,staticClass:"right-aligned"},[t._v(" "+t._s(e.totalPoints[r.id])+" ")])})),n("td",{staticClass:"right-aligned"},[t._v(" "+t._s(e.points)+" ")])],2)}))],2)])]),n("div",{staticClass:"button-row"},[n("button",{staticClass:"button next-round",on:{click:t.triggerNextRound}},[t._v(" "+t._s(t.$t("next-round"))+" ")])])])},se=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[n("div",{staticClass:"summary"},[n("strong",[t._v("bid_lose")])])]),n("th",[n("div",{staticClass:"summary"},[n("strong",[t._v("bid_win")])])])])}],oe=(n("d81d"),n("345b")),ce=n("c1eb"),ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"point-meter"}},[t._m(0),n("div",{staticClass:"bar-wrapper"},[n("div",{staticClass:"bar re",style:t.reStyle}),n("div",{staticClass:"bar kontra",style:t.kontraStyle})]),n("div",{staticClass:"points"},[n("span",[t._v(t._s(t.rePoints)+" "+t._s(t.$t("points")))]),n("span",[t._v(t._s(t.kontraPoints)+" "+t._s(t.$t("points")))])])])},le=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scale"},[n("span",{staticClass:"dark"}),n("span",{staticClass:"bright"}),n("span",{staticClass:"dark"}),n("span",{staticClass:"bright"}),n("span",{staticClass:"dark"}),n("span",{staticClass:"bright"}),n("span",{staticClass:"dark"}),n("span",{staticClass:"bright"})])}],de=(n("a9e3"),{name:"PointMeter",props:{rePoints:{type:Number,required:!0},kontraPoints:{type:Number,required:!0}},computed:{reStyle:function(){return"width: ".concat(this.rePoints/240*100,"%")},kontraStyle:function(){return"width: ".concat(this.kontraPoints/240*100,"%")}}}),he=de,pe=(n("8407"),Object(s["a"])(he,ue,le,!1,null,"48ec0943",null)),fe=pe.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"info"===t.name?n("span",[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("line",{attrs:{x1:"12",y1:"16",x2:"12",y2:"12"}}),n("line",{attrs:{x1:"12",y1:"8",x2:"12.01",y2:"8"}})])]):"help"===t.name?n("span",[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),n("path",{attrs:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}}),n("line",{attrs:{x1:"12",y1:"17",x2:"12.01",y2:"17"}})])]):"check"===t.name?n("span",[n("svg",{staticClass:"css-i6dzq1",attrs:{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[n("polyline",{attrs:{points:"20 6 9 17 4 12"}})])]):"clipboard"===t.name?n("span",[n("svg",{staticClass:"css-i6dzq1",attrs:{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}}),n("rect",{attrs:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}})])]):n("span",[n("span",[t._v("Invalid icon name")])])},ye=[],ge={name:"Icon",props:{name:{type:String,required:!0}}},be=ge,me=(n("b3c6"),Object(s["a"])(be,ve,ye,!1,null,null,null)),ke=me.exports,we={name:"Scorecard",components:{PointMeter:fe,Icon:ke},props:{scorecard:{type:Object,required:!0},players:{type:Array,required:!0},currentScore:{type:Object,required:!0}},computed:{message:function(){return Object(oe["a"])(this.currentScore.winner(),this.players[0])?"you_win":"you_lose"}},methods:{triggerNextRound:function(){this.$emit("nextRound")},isLastLine:function(t){return t===this.scorecard.scoreLines.length-1},partyMembers:function(t){return Object(ce["a"])(this.currentScore.parties[t].map((function(t){return t.name}))," & ")}}},_e=we,xe=(n("b196"),Object(s["a"])(_e,ae,se,!1,null,"7c5533fa",null)),Ce=xe.exports,Oe={name:"Table",components:{Player:Gt,Trick:Zt,Controls:ie,Scorecard:Ce},props:{game:{type:Object,required:!0}},methods:{nextMove:function(){this.game.currentRound.nextMove()},finishTrick:function(){this.game.currentRound.finishTrick()},finishRound:function(){this.game.currentRound.finishRound()},nextRound:function(){this.game.nextRound()}}},je=Oe,Pe=(n("0328"),Object(s["a"])(je,Z,X,!1,null,"24c79429",null)),Te=Pe.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"options"},[n("div",{staticClass:"options-icon",on:{click:function(e){return t.toggleMenu()}}},[t._v("⚙️")]),t.visible?n("div",{staticClass:"options-menu",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleMenu()}}},[n("div",{staticClass:"options-menu-content"},[n("h2",[t._v(t._s(t.$t("options-header")))]),n("div",{staticClass:"option"},[n("span",{staticClass:"label"},[t._v(t._s(t.$t("language")))]),n("LanguagePicker")],1),t.isDebug()?n("div",{staticClass:"option"},[n("span",{staticClass:"label"},[t._v("Debug Mode")]),n("div",[t._v(" Enabled ")]),n("div",[t._v(" "+t._s(t.config)+" ")])]):t._e()])]):t._e()])},Re=[],$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"languages"}},t._l(t.availableLanguages,(function(e,r){return n("span",{key:r,staticClass:"language"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.$i18n.locale,expression:"$i18n.locale"}],attrs:{id:e,type:"radio"},domProps:{value:e,checked:t._q(t.$i18n.locale,e)},on:{change:function(n){return t.$set(t.$i18n,"locale",e)}}}),n("label",{attrs:{for:e}},[t._v(t._s(t.$t(e)))])])})),0)},Ee=[],Me={name:"LanguagePicker",data:function(){return{availableLanguages:["en","de"]}}},Ne=Me,qe=(n("e386"),Object(s["a"])(Ne,$e,Ee,!1,null,"a04bb914",null)),Le=qe.exports,Fe={name:"OptionsMenu",components:{LanguagePicker:Le},props:{isVisible:{type:Boolean,required:!1,default:!1}},data:function(){return{config:C,visible:this.isVisible}},methods:{toggleMenu:function(){this.visible=!this.visible},isDebug:function(){return C.debug}}},Ie=Fe,He=(n("89fb"),Object(s["a"])(Ie,Se,Re,!1,null,"48323012",null)),De=He.exports,Ae=(n("fb6a"),n("13d5"),n("b85c")),Ke=function t(e,n){Object(_["a"])(this,t),this.card=e,this.player=n};function Be(t,e){return t.card.compareTo(e.card)}var Ue="doppelkopf",ze="fox",Ge=function(){function t(e){Object(_["a"])(this,t),this.expectedNumberOfCards=e,this.playedCards=[],this.finished=!1,this.id=Object(H["a"])("trick_")}return Object(w["a"])(t,[{key:"add",value:function(t,e){if(this.cardBy(e))throw Error("Player ".concat(e.name," already played a card"));var n=new Ke(t,e);this.playedCards.push(n),this.playedCards.length===this.expectedNumberOfCards&&(this.finished=!0)}},{key:"cards",value:function(){return this.playedCards}},{key:"cardBy",value:function(t){return this.playedCards.filter((function(e){return e.player.id===t.id}))[0]}},{key:"isFinished",value:function(){return this.finished}},{key:"baseCard",value:function(){if(this.playedCards[0])return this.playedCards[0].card}},{key:"winner",value:function(){if(this.playedCards[0]){var t,e=this.playedCards[0],n=Object(Ae["a"])(this.playedCards);try{for(n.s();!(t=n.n()).done;){var r=t.value;Be(r,e)<0&&(e=r)}}catch(i){n.e(i)}finally{n.f()}return e.player}}},{key:"points",value:function(){return this.playedCards.reduce((function(t,e){return t+e.card.value}),0)}},{key:"extras",value:function(){var t=[];this.points()>=40&&t.push(Ue);var e=this.findFox();if(e){var n=e.player.isRe()&&!this.winner().isRe()||e.player.isKontra()&&!this.winner().isKontra();n&&t.push(ze)}return t}},{key:"findFox",value:function(){return this.playedCards.filter((function(t){return t.card.rank===ut.ace&&t.card.suit===ct.diamonds}))[0]}}]),t}(),Ve=(n("c975"),function(){function t(e){Object(_["a"])(this,t),this.elements=e,this.currentIndex=0}return Object(w["a"])(t,[{key:"length",value:function(){return this.elements.length}},{key:"next",value:function(){return this.currentIndex=(this.currentIndex+1)%this.elements.length,this.elements[this.currentIndex]}},{key:"current",value:function(){return this.elements[this.currentIndex]}},{key:"prioritize",value:function(t){var e=this.elements.indexOf(t);if(-1===e)throw new Error("can't prioritize unknown element '".concat(t,"'"));this.currentIndex=e}}]),t}()),Je=(n("5db7"),n("73d9"),n("b64b"),n("ade3")),We="bid_win",Qe="bid_lose",Ye=function(t,e){return t+e.points()},Ze=function(){function t(){Object(_["a"])(this,t),this.extras={},this.extras[We]=[],this.extras[Qe]=[]}return Object(w["a"])(t,[{key:"evaluate",value:function(t){if(this.parties=this.findParties(t),this.rePoints=this.parties[We].reduce(Ye,0),this.kontraPoints=this.parties[Qe].reduce(Ye,0),this.rePoints+this.kontraPoints!==240)throw Error("A score must have a total of 240 points. Got\n        ".concat(this.rePoints," for Re, ").concat(this.kontraPoints," for Kontra"));var e=this.winningParty();console.log("Winner",e),this.addExtra(e,"Points_Scored")}},{key:"findParties",value:function(t){var e;return e={},Object(Je["a"])(e,We,t.filter((function(t){return t.isRe()}))),Object(Je["a"])(e,Qe,t.filter((function(t){return t.isKontra()}))),e}},{key:"winner",value:function(){return console.log(this.winningParty()),this.parties[this.winningParty()]}},{key:"loser",value:function(){return this.parties[this.losingParty()]}},{key:"winningParty",value:function(){return this.rePoints>this.kontraPoints?We:Qe}},{key:"losingParty",value:function(){return this.rePoints<this.kontraPoints?We:Qe}},{key:"points",value:function(){return console.log(this.parties[this.winningParty()]),this.rePoints}},{key:"addExtra",value:function(t,e){if(e){var n={};n[e]=t===We?this.rePoints:0,this.extras[t].push(n)}}},{key:"listExtras",value:function(t){return this.extras[t].flatMap((function(t){return Object.keys(t)}))}}]),t}(),Xe={autoplay:!0},tn=n("0a94"),en=new D,nn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Object(_["a"])(this,t),this.players=e,this.scorecard=n,this.finished=!1,this.currentTrick=this.nextTrick(),this.score=new Ze,this.playerOrder=new Ve(this.players),r&&this.playerOrder.prioritize(r)}return Object(w["a"])(t,[{key:"nextTrick",value:function(){return new Ge(this.players.length)}},{key:"nextPlayer",value:function(){this.playerOrder.next()}},{key:"waitingForPlayer",value:function(){return this.playerOrder.current()}},{key:"nextMove",value:function(){this.waitingForPlayer().isHuman||this.currentTrick.isFinished()||this.isFinished()||this.waitingForPlayer().autoplay()}},{key:"noMoreCardsLeft",value:function(){var t=function(t,e){return t+e.hand.cards.length},e=this.players.reduce(t,0);return 0===e}},{key:"isFinished",value:function(){return this.finished}},{key:"finishTrick",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.evaluateLatestTrick();case 2:this.currentTrick=this.nextTrick(),!0===Xe.autoplay&&this.nextMove();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"evaluateLatestTrick",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.currentTrick.winner().id,n=Object(tn["a"])(this.players,{id:e}),n.win(this.currentTrick),this.playerOrder.prioritize(n);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"showExtras",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Object(Ae["a"])(this.currentTrick.extras()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=13;break}r=n.value,t.t0=r,t.next=t.t0===Ue?8:11;break;case 8:return t.next=10,en.flash("Black Queen");case 10:return t.abrupt("break",11);case 11:t.next=3;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t["catch"](1),e.e(t.t1);case 18:return t.prev=18,e.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[1,15,18,21]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"finishRound",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.noMoreCardsLeft()){t.next=2;break}throw new Error("Can't finish a round before all cards have been played");case 2:return t.next=4,this.evaluateLatestTrick();case 4:this.currentTrick=this.nextTrick(),this.score.evaluate(this.players),this.scorecard.addScore(this.score.winner(),this.score.loser(),this.score.winningParty(),this.score.losingParty(),this.score.points()),this.finished=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),rn=(n("7db0"),n("3ad2")),an=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(_["a"])(this,t),this.cards=e,this.sort(),this.isReParty1=Object(tn["a"])(this.cards,{suit:ct.spades,rank:ut.queen}),this.isReParty2=Object(tn["a"])(this.cards,{suit:ct.spades,rank:ut.ace})}return Object(w["a"])(t,[{key:"isRe",value:function(){return!!this.isReParty1||!!this.isReParty2}},{key:"isKontra",value:function(){return!this.isRe()}},{key:"value",value:function(){return this.cards.reduce((function(t,e){return t+e.value}),0)}},{key:"find",value:function(t){return Object(tn["a"])(this.cards,t)}},{key:"remove",value:function(t){if(!this.find(t))throw new Error("can't remove card that isn't on hand");this.cards=Object(rn["a"])(this.cards,t)}},{key:"sort",value:function(){return this.cards.sort(ht).reverse()}}]),t}(),sn=(n("0481"),n("4069"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(_["a"])(this,t),this.tricks=e}return Object(w["a"])(t,[{key:"add",value:function(t){if(!t.isFinished())throw new Error("can not add an unfinished trick to the trick stack");this.tricks.push(t)}},{key:"cards",value:function(){var t=this.tricks.flatMap((function(t){return t.playedCards}));return t.map((function(t){return t.card}))}},{key:"points",value:function(){return this.tricks.reduce((function(t,e){return t+e.points()}),0)}},{key:"extras",value:function(){return this.tricks.reduce((function(t,e){return t.concat(e.extras())}),[]).flat()}}]),t}()),on=n("d40a"),cn=function(){function t(){Object(_["a"])(this,t)}return Object(w["a"])(t,[{key:"cardToPlay",value:function(t,e){return Object(on["a"])(Kt(t.cards,e))}}]),t}(),un=new D,ln=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(_["a"])(this,t),this.id=Object(H["a"])("player_"),this.name=e,this.hand=new an,this.isHuman=n,this.isMe=r,this.trickStack=new sn,this.tablePosition=i,this.game=a,this.behavior=new cn}return Object(w["a"])(t,[{key:"isRe",value:function(){return this.hand.isRe()}},{key:"isKontra",value:function(){return!this.isRe()}},{key:"autoplay",value:function(){var t=this.behavior.cardToPlay(this.hand,this.game.currentTrick.baseCard());this.play(t)}},{key:"play",value:function(t){var e=this;if(this.game.currentRound.waitingForPlayer()===this){var n=this.hand.find(t);if(!t||!n)throw new Error("can't play a card that's not on the player's hand");if(this.canPlay(t))try{this.game.currentTrick.add(n,this),this.hand.remove(n),this.game.currentRound.nextPlayer(),!0===Xe.autoplay&&setTimeout((function(){return e.game.currentRound.nextMove()}),800)}catch(r){if(this.isHuman)return void un.info("not-your-turn")}else un.info("cant-play-card")}else un.info("not-your-turn")}},{key:"canPlay",value:function(t){var e=this.game.currentTrick.baseCard(),n=Kt(this.hand.cards,e);return Object(oe["a"])(n,t)}},{key:"win",value:function(t){this.trickStack.add(t)}},{key:"clearTrickStack",value:function(){this.trickStack=new sn}},{key:"points",value:function(){return this.trickStack.points()}}]),t}(),dn=(n("07ac"),n("2909")),hn=n("71d3"),pn=n("c56b"),fn=function t(){var e;Object(_["a"])(this,t),this.cards=Object(hn["a"])((e=[]).concat.apply(e,Object(dn["a"])(vn)))},vn=Object(pn["a"])(Object.values(ut).map((function(t){return[new dt(t,ct.clubs,0),new dt(t,ct.spades,0),new dt(t,ct.hearts,0),new dt(t,ct.diamonds,0)]}))),yn=n("a809"),gn=function(){function t(e){Object(_["a"])(this,t),this.players=e,this.scoreLines=[]}return Object(w["a"])(t,[{key:"addScore",value:function(t,e,n,r,i){var a=this,s={};this.players.forEach((function(o){n===We&&Object(oe["a"])(t,o)&&(s[o.id]=a.totalPointsFor(o)+i),n===Qe&&Object(oe["a"])(t,o)&&(s[o.id]=a.totalPointsFor(o)+0),r===Qe&&Object(oe["a"])(e,o)&&(s[o.id]=a.totalPointsFor(o)-0),r===We&&Object(oe["a"])(e,o)&&(s[o.id]=a.totalPointsFor(o)-i)}));var o=new mn(s,t,i);this.scoreLines.push(o)}},{key:"totalPointsFor",value:function(t){return Object(yn["a"])(this.scoreLines)?Object(yn["a"])(this.scoreLines).totalPoints[t.id]:0}}]),t}(),bn=0,mn=function t(e,n,r){Object(_["a"])(this,t),this.id=bn++,this.totalPoints=e,this.winners=n,this.points=r},kn=n("07df");function wn(t){return Object(kn["a"])(xn,t)}function _n(){var t=Object(on["a"])(jn.en),e=Object(on["a"])(Cn.en),n=Object(on["a"])(On.en);return"".concat(t,"-").concat(e,"-").concat(n)}var xn=["Sripati","Sriprasad","Anuj","Kedar","Shivani","Hemant","APKannan","Subhashini"],Cn={en:["red","blue","yellow","green","purple","orange","black","white","brown","fast","slow","clever","eager","lazy"]},On={en:["dog","cat","cow","pig","fish","shark","bird","weasel","snake","ball","rope","bat","swing","slide","couch","table","chair","desk"]},jn={en:["find","search","get","fetch","smell","touch","see","hear","taste","feel","build","go","run","create"]},Pn=function(){function t(){Object(_["a"])(this,t),this.gameId=void 0}return Object(w["a"])(t,[{key:"newGame",value:function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.gameId=void 0,t.next=3,j.post("/api/game/new");case 3:if(e=t.sent,!e.ok){t.next=9;break}return t.next=7,e.json();case 7:n=t.sent,this.gameId=n.id;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"win",value:function(){return j.post("/api/game/".concat(this.gameId,"/win"))}},{key:"lose",value:function(){return j.post("/api/game/".concat(this.gameId,"/lose"))}}]),t}(),Tn=new Pn,Sn=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(_["a"])(this,t),this.players=n,this.players.map((function(t){return t.game=e})),this.playerOpeningOrder=new Ve(this.players),this.deck=new fn,this.scorecard=new gn(this.players),this.currentRound=new nn(this.players,this.scorecard,this.playerOpeningOrder.current()),this.deal(),Tn.newGame()}return Object(w["a"])(t,[{key:"deal",value:function(){this.deck=new fn,this.players[0].hand=new an(this.deck.cards.slice(0,13)),this.players[1].hand=new an(this.deck.cards.slice(13,26)),this.players[2].hand=new an(this.deck.cards.slice(26,39)),this.players[3].hand=new an(this.deck.cards.slice(39,52))}},{key:"nextRound",value:function(){this.currentRound=new nn(this.players,this.scorecard,this.playerOpeningOrder.next()),this.clearTrickStacks(),this.deal(),this.currentRound.nextMove()}},{key:"clearTrickStacks",value:function(){this.players.forEach((function(t){return t.clearTrickStack()}))}},{key:"playerOpening",get:function(){return this.playerOpeningOrder.current()}},{key:"currentTrick",get:function(){return this.currentRound.currentTrick}}],[{key:"singlePlayer",value:function(){var e=!0,n=!1,r=wn(4);return new t([new ln(r[0],e,!0,"bottom"),new ln(r[1],n,!1,"left"),new ln(r[2],n,!1,"top"),new ln(r[3],n,!1,"right")])}},{key:"multiPlayer",value:function(){var e=!0,n=wn(4);return new t([new ln(n[0],e,!0,"bottom"),new ln(n[1],e,!0,"left"),new ln(n[2],e,!0,"top"),new ln(n[3],e,!0,"right")])}}]),t}(),Rn={name:"Game",components:{Table:Te,Notifications:Y,OptionsMenu:De},props:{game:{type:Object,default:function(){return Sn.singlePlayer()}}}},$n=Rn,En=Object(s["a"])($n,q,L,!1,null,null,null),Mn=En.exports,Nn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},qn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tutorial"}},[n("h1",[t._v("Learn how to play")])])}],Ln={name:"Tutorial"},Fn=Ln,In=Object(s["a"])(Fn,Nn,qn,!1,null,null,null),Hn=In.exports,Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"waitingRoom"}},[n("h1",[t._v("Black Queen")]),n("div",{staticClass:"wrapper"},[n("p",[t._v(" "+t._s(t.$t("here-is-your-invite-link"))+" ")]),n("div",{staticClass:"link"},[n("CopyText",{attrs:{text:t.waitingRoom.gameUrl}})],1),n("div",{staticClass:"roomInfo"},[n("p",[t._v(t._s(t.$t("you-can-start")))]),n("p",[t._v(" "+t._s(t.$tc("n-players-are-here",t.waitingRoom.players.length,{count:t.waitingRoom.players.length}))+" "+t._s(t.$t(t.statusMessage))+" ")])]),n("div",{staticClass:"players"},[n("ol",t._l(t.waitingRoom.players,(function(e){return n("li",{key:e.id,staticClass:"player",class:{highlight:e.isMe}},[t._v(" "+t._s(e.name)+" ")])})),0)]),t.isReady()?n("button",{staticClass:"button start-game",attrs:{tag:"button"},on:{click:function(e){return t.startGame()}}},[t._v(" "+t._s(t.$t("start-game"))+" ")]):t._e()])])},An=[],Kn=(n("45fc"),{waiting:"waiting",joined:"joined",ready:"ready"}),Bn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(_["a"])(this,t),this.gameId=e||_n(),this.players=n}return Object(w["a"])(t,[{key:"join",value:function(t){if(t){if(this.state===Kn.ready)throw new Error("Room is full");this.players.push(t)}}},{key:"startGame",value:function(){if(this.state!==Kn.ready)throw new Error("Can't start game until 4 players are there");return Sn.multiPlayer(this.players)}},{key:"leave",value:function(t){if(!this.players.some((function(e){return e.id===t.id})))throw new Error("Player '".concat(t.name,"' is not in this room"));this.players=this.players.filter((function(e){return e.id!==t.id}))}},{key:"state",get:function(){return 4===this.players.length?Kn.ready:this.players.some((function(t){return t.isMe}))?Kn.joined:Kn.waiting}},{key:"gameUrl",get:function(){return"".concat(C.baseUrl,"/").concat(this.gameId)}}],[{key:"fetch",value:function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(n){var r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("/api/game/".concat(n,"/join"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),new Error("Failed to fetch game state: ".concat(e.t0));case 12:return a=r.players.map((function(t){return new ln(t.name,!0,!1)})),s=new t(r.gameId,a),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));function n(t){return e.apply(this,arguments)}return n}()}]),t}(),Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"copyText"},[n("input",{staticClass:"text",attrs:{type:"text",readonly:""},domProps:{value:t.text}}),n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.copyTextToClipboard}},[n("Icon",{attrs:{name:t.icon}}),n("span",{staticClass:"buttonText"},[t._v(t._s(t.buttonText))])],1)])},zn=[],Gn={name:"CopyText",components:{Icon:ke},props:{text:{type:String,required:!0}},data:function(){return{buttonText:"Copy",icon:"clipboard",copying:!1}},methods:{copyTextToClipboard:function(){var t=this;if(!this.copying){this.copying=!0,navigator.clipboard.writeText(this.text);var e=this.buttonText;this.buttonText="Copied!",this.icon="check",setTimeout((function(){t.copying=!1,t.buttonText=e,t.icon="clipboard"}),1500)}}}},Vn=Gn,Jn=(n("4418"),Object(s["a"])(Vn,Un,zn,!1,null,"638c39b4",null)),Wn=Jn.exports,Qn={name:"WaitingRoom",components:{CopyText:Wn},props:{gameId:{type:Number,default:-1},waitingRoom:{type:Object,default:function(){return new Bn}}},computed:{statusMessage:function(){switch(this.waitingRoom.state){case Kn.ready:return"ready-status";case Kn.joined:return"waiting-status";case Kn.waiting:return"waiting-status"}return"waiting-status"}},created:function(){},methods:{startGame:function(){this.waitingRoom.startGame(),this.$router.push("/play")},isReady:function(){return this.waitingRoom.state===Kn.ready}}},Yn=Qn,Zn=(n("7e2b"),Object(s["a"])(Yn,Dn,An,!1,null,"71f7eab1",null)),Xn=Zn.exports;r["a"].use(g["a"]);var tr=[{path:"*",redirect:"/"},{path:"/",name:"home",component:N},{path:"/play",name:"play",component:Mn},{path:"/learn",name:"tutorial",component:Hn},{path:"/wait",name:"waiting-room",component:Xn},{path:"/wait/:game-id",name:"waiting-room",component:Xn}],er=new g["a"]({mode:"history",base:"sripatikannan.github.io/",routes:tr}),nr=er;r["a"].config.productionTip=!1,new r["a"]({i18n:y,router:nr,render:function(t){return t(u)}}).$mount("#app"),d["a"]({dsn:"https://69b3af20d4fa454f851a6be71502334c@sentry.io/1235644",integrations:[new h["a"]({Vue:r["a"]})],environment:"production"})},5806:function(t,e,n){},"6ce2":function(t){t.exports=JSON.parse('{"trick":"Kein Stich | 1 Stich | {count} Stiche","next-trick":"Nächster Stich","finish-round":"Runde beenden","next-round":"Nächste Runde","results":"Auswertung","points":"Punkte","start-game":"Spiel starten!","how-to-play":"Spielregeln","win":"Gewonnen","win_description":"Diese Partei hat das Spiel gewonnen","beat_re":"Gegen die Alten","beat_re_description":"Kontra hat gegen die Re-Partei gewonnen","doppelkopf":"Doppelkopf","doppelkopf_description":"Diese Partei hat einen Stich mit 40 Punkten oder mehr geholt","fox":"Fuchs gefangen","fox_description":"Diese Partei hat ein Karo Ass (Fuchs) der anderen Partei gefangen","no_90":"Keine 90","no_90_description":"Die andere partei hat keine 90 Punkte erzielt","no_60":"Keine 60","no_60_description":"Die andere partei hat keine 60 Punkte erzielt","no_30":"Keine 30","no_30_description":"Die andere partei hat keine 30 Punkte erzielt","no_points":"Schwarz","no_points_description":"Die andere partei hat gar keine Punkte erzielt","you_lose":"Du hast verloren!","you_win":"Du hast gewonnen!","trick_goes_to":"Der Stich geht an:","cant-play-card":"Die Karte kannst du nicht spielen","not-your-turn":"Du bist nicht dran, mein Freund!","language":"Sprache","en":"English","de":"Deutsch","options-header":"Einstellungen","tutorial-link":"https://de.wikipedia.org/wiki/Doppelkopf","winner":"Gewinner","here-is-your-invite-link":"Hier ist dein Spiel-Link. Schicke diesen Link an deine Freunde damit sie dem Spiel beitreten können.","you-can-start":"Du kannst das Spiel starten, sobald 4 Spieler hier sind.","n-players-are-here":"Kein Spieler ist hier. | 1 Spieler ist hier. | {count} Spieler sind hier.","waiting-status":"Warte auf weitere Spieler.","ready-status":"Kann losgehen!"}')},"6d7b":function(t,e,n){},"70f0":function(t,e,n){},"7e2b":function(t,e,n){"use strict";var r=n("e6e9"),i=n.n(r);i.a},8407:function(t,e,n){"use strict";var r=n("e4db"),i=n.n(r);i.a},"89fb":function(t,e,n){"use strict";var r=n("e803"),i=n.n(r);i.a},"8e78":function(t,e,n){"use strict";var r=n("3fab"),i=n.n(r);i.a},9050:function(t,e,n){t.exports=n.p+"img/download.f6cc5fd5.png"},"90ea":function(t,e,n){"use strict";var r=n("29fd"),i=n.n(r);i.a},b196:function(t,e,n){"use strict";var r=n("6d7b"),i=n.n(r);i.a},b3c6:function(t,e,n){"use strict";var r=n("b729"),i=n.n(r);i.a},b729:function(t,e,n){},bb76:function(t,e,n){"use strict";var r=n("70f0"),i=n.n(r);i.a},c035:function(t,e,n){},e386:function(t,e,n){"use strict";var r=n("0019"),i=n.n(r);i.a},e3ba:function(t,e,n){"use strict";var r=n("4253"),i=n.n(r);i.a},e4db:function(t,e,n){},e6e9:function(t,e,n){},e803:function(t,e,n){},edd4:function(t){t.exports=JSON.parse('{"trick":"No Hands | 1 Hand | {count} Hands","next-trick":"Next Hand","finish-round":"Finish Round","next-round":"Next Round","results":"Results","points":"Points","start-game":"Start Game","how-to-play":"Know the Game!","win":"Win","win_description":"This party won the game","beat_re":"Against the elders","beat_re_description":"Kontra won against the Re party","doppelkopf":"Doppelkopf","doppelkopf_description":"This party won a hand worth 40 or more points","fox":"Caught a fox","fox_description":"this party caught an ace of diamonds (\'Fox\') from the other party","no_90":"No 90","no_90_description":"The other party got less than 90 points","no_60":"No 60","no_60_description":"The other party got less than 60 points","no_30":"No 30","no_30_description":"The other party got less than 30 points","no_points":"No points","no_points_description":"The other party got no points at all","you_lose":"You lost the game!","you_win":"You won the game!","trick_goes_to":"Hand goes to:","cant-play-card":"You can\'t play that card. Try another suit  ","not-your-turn":"It\'s not your turn. Please Wait!  ","language":"Language","en":"English","de":"Deutsch","options-header":"Settings","tutorial-link":"https://www.google.com","winner":"Winner","here-is-your-invite-link":"Here is your invite link. Share this link with your friends so they can join the game.","you-can-start":"You can start the game once 4 players have joined.","n-players-are-here":"No players are here. | 1 player is here | {count} players are here","waiting-status":"Waiting for other players to join.","ready-status":"Ready to start the game."}')},f5e5:function(t,e,n){"use strict";var r=n("06b8"),i=n.n(r);i.a}});
//# sourceMappingURL=app.184f68c6.js.map